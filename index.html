<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Minecraft Mod Coder</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            color: #4CAF50;
            text-align: center;
        }
        .container {
            max-width: 800px;
            width: 100%;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
        }
        textarea {
            width: 100%;
            height: 150px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        #output {
            margin-top: 20px;
            background: #f9f9f9;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        #loading {
            display: none;
            margin-top: 10px;
            color: #666;
        }
        footer {
            margin-top: 20px;
            text-align: center;
            color: #777;
        }
    </style>
</head>
<body>
    <h1>AI Minecraft Mod Coder</h1>
    <div class="container">
        <p>Welcome to the AI Minecraft Mod Coder! This tool helps you generate Java code for Minecraft Java Edition mods based on your detailed description. Describe what you want your mod to do (e.g., "Create a custom sword that sets enemies on fire when hit"), and the AI will generate the corresponding Java code. The output aims to match your input description as exactly as possible, providing a complete, compilable mod structure using Forge or Fabric (specify in your input if preferred).</p>
        
        <p><strong>Important Notes:</strong></p>
        <ul>
            <li>This tool integrates with xAI's Grok API. You need an API key from <a href="https://x.ai/api" target="_blank">https://x.ai/api</a>.</li>
            <li>The generated code is a starting point. Always test and modify it in your Minecraft mod development environment (e.g., using Gradle, Forge MDK, or Fabric Loom).</li>
            <li>Prerequisites: Knowledge of Java, Minecraft modding basics (e.g., registering items/blocks, event handling). Ensure you have Minecraft Forge/Fabric installed.</li>
            <li>For exact matching: Be precise in your input (e.g., include mod ID, class names, behaviors). The AI will interpret and generate code to implement your description faithfully.</li>
        </ul>
        
        <label for="apiKey">xAI API Key:</label>
        <input type="text" id="apiKey" placeholder="Enter your xAI API Key here">
        
        <label for="input">Describe your Minecraft mod idea in detail:</label>
        <textarea id="input" placeholder="E.g., Create a new block called 'Magic Ore' that drops diamonds when mined, registers it in the game, and adds a recipe to craft tools from it. Use Forge mod loader."></textarea>
        
        <label for="dependencies">Mod Dependencies (e.g., Forge version, other required mods like 'jei', libraries):</label>
        <textarea id="dependencies" placeholder="E.g., Requires Minecraft Forge 1.20.1, depends on Just Enough Items (JEI) mod."></textarea>
        
        <button id="generate">Generate Mod Code</button>
        <div id="loading">Generating code... Please wait.</div>
        
        <div id="output"></div>
    </div>
    
    <footer>
        Powered by xAI Grok API. Not affiliated with Mojang or Minecraft.
    </footer>

    <script>
        const generateButton = document.getElementById('generate');
        const inputTextarea = document.getElementById('input');
        const dependenciesTextarea = document.getElementById('dependencies');
        const apiKeyInput = document.getElementById('apiKey');
        const outputDiv = document.getElementById('output');
        const loadingDiv = document.getElementById('loading');

        generateButton.addEventListener('click', async () => {
            const userInput = inputTextarea.value.trim();
            const dependencies = dependenciesTextarea.value.trim();
            const apiKey = apiKeyInput.value.trim();
            
            if (!userInput) {
                alert('Please enter a detailed description of your mod.');
                return;
            }
            if (!apiKey) {
                alert('Please enter your xAI API Key.');
                return;
            }

            loadingDiv.style.display = 'block';
            outputDiv.innerHTML = '';

            try {
                let fullUserPrompt = userInput;
                if (dependencies) {
                    fullUserPrompt += `\n\nDependencies: ${dependencies}`;
                }

                const systemPrompt = "You are a Minecraft mod coding expert. Generate complete, detailed, and compilable Java code for a Minecraft Java Edition mod that exactly implements the user's description. Include all necessary classes, imports, registrations, and configurations. Use Forge or Fabric as specified in the description, default to